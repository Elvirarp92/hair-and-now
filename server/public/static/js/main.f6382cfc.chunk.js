(this["webpackJsonphair-and-now-client"]=this["webpackJsonphair-and-now-client"]||[]).push([[0],{117:function(e,a,t){e.exports=t(211)},123:function(e,a,t){},141:function(e,a,t){},145:function(e,a,t){},148:function(e,a,t){},149:function(e,a,t){},150:function(e,a,t){},152:function(e,a,t){},209:function(e,a,t){},210:function(e,a,t){},211:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(41),l=t.n(s),i=(t(122),t(123),t(9)),o=t(13),c=t(15),u=t(14),m=t(42),p=t(33),h=t.n(p),d=function e(){var a=this;Object(i.a)(this,e),this.signup=function(e){var t=e.username,n=e.password,r=e.email,s=e.role;return a.service.post("/signup",{username:t,password:n,email:r,role:s})},this.confirm=function(e){return a.service.get("/confirm/".concat(e))},this.login=function(e){var t=e.username,n=e.password;return a.service.post("/login",{username:t,password:n})},this.logout=function(){return a.service.post("/logout")},this.isLoggedIn=function(){return a.service.get("/isloggedin")},this.service=h.a.create({baseURL:"https://hair-and-now.herokuapp.com/api",withCredentials:!0})},g=t(59),f=t(48),E=(t(141),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).logout=function(){n.props.setTheUser(!1),n.authService.logout()},n.state={},n.authService=new d,n}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{bg:"light",expand:"lg"},r.a.createElement(g.a.Brand,{href:"/",bsPrefix:"brand"},"Hair & Now"),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{href:"/"},"Inicio"),this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n")):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Link,{href:"/signup"},"Registro"),r.a.createElement(f.a.Link,{href:"/login"},"Iniciar sesi\xf3n")),this.props.loggedInUser&&"professional"===this.props.loggedInUser.role?r.a.createElement(f.a.Link,{href:"/user/professionals/dashboard"},"Gesti\xf3n"):null)))}}]),t}(n.Component)),b=t(18),v=t(19),y=t(11),C=t(12),I=t(20),O=t(53),k=t(93),S=(t(145),function(e){return r.a.createElement(O.a,{as:"section",style:{width:"18rem"}},r.a.createElement(k.a,{variant:"flush"},e.salons.map((function(e){return r.a.createElement(I.b,{key:e._id,to:"/salons/".concat(e._id)},r.a.createElement(k.a.Item,{className:"salon-card"},e.name))}))))}),T=function e(){var a=this;Object(i.a)(this,e),this.getSalons=function(e){return a.service.get("/getsalons/search".concat(e))},this.getSalon=function(e){return a.service.get("/getsalon/".concat(e))},this.createSalon=function(e){var t=e.name,n=e.type,r=e.address,s=e.schedule;return a.service.post("/postnewsalon",{name:t,type:n,address:r,schedule:s})},this.service=h.a.create({baseURL:"https://hair-and-now.herokuapp.com/api",withCredentials:!0})},j=(t(148),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).getAllSalons=function(){n.salonService.getSalons("").then((function(e){return n.setState({salons:e.data})})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){return n.getAllSalons()},n.state={salons:[]},n.salonService=new T,n}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{as:"main"},r.a.createElement(v.a,{as:"section"},r.a.createElement(y.a,{xs:12,s:12},r.a.createElement("h1",null,"Hair & Now")),r.a.createElement(y.a,{xs:12,s:12,m:6,className:"is-flex is-centered"},r.a.createElement(S,{salons:this.state.salons})),r.a.createElement(y.a,{xs:12,s:12,m:6},!this.props.loggedInUser&&r.a.createElement("div",null,r.a.createElement("p",{className:"pro-cta"},"\xbfProfesional? An\xfanciate con nosotros"),r.a.createElement(I.b,{to:"/signup"},r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button"},"Reg\xedstrate"))))))}}]),t}(n.Component)),w=(t(149),function(e){return r.a.createElement("article",null,r.a.createElement("h2",null,e.salon.name),e.salon.appointments.length>0?e.salon.appointments.map((function(e,a){return e.validated?null:r.a.createElement("div",{key:a,className:"is-flex service-container"},r.a.createElement("div",null,e.services[0].services.map((function(e,a){return r.a.createElement("p",{key:a},e.name)})),r.a.createElement("hr",null),e.dates.map((function(e,a){return r.a.createElement("p",{key:a},new Date(Date.parse(e)).toLocaleString())}))),r.a.createElement(I.b,{to:"/appointment/edit/".concat(e._id)},r.a.createElement(C.a,{className:"red-button"},"Gestionar cita")))})):r.a.createElement("p",null,"No tienes citas pendientes de gesti\xf3n"),r.a.createElement("nav",{className:"is-flex is-centered"},r.a.createElement(I.b,{to:"/packs/create/".concat(e.salon._id)},r.a.createElement(C.a,{className:"red-button"},"Gesti\xf3n de servicios"))))}),D=(t(150),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).getSalonInfo=function(){n.salonService.getSalons("?owner=".concat(n.props.loggedInUser._id)).then((function(e){n.setState({salons:e.data})})).catch((function(e){console.log(e)}))},n.state={},n.salonService=new T,n}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{as:"section"},this.props.loggedInUser&&r.a.createElement("div",null,r.a.createElement("h1",null,"Panel de gesti\xf3n"),r.a.createElement("p",{className:"welcome"},"\xa1Bienvenido, ",this.props.loggedInUser.username,"!"),this.state.salons?this.state.salons.map((function(e){return r.a.createElement(w,{key:e._id,salon:e})})):this.getSalonInfo(),r.a.createElement(I.b,{to:"/salons/create"},r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button"},"Crear peluquer\xeda"))))}}]),t}(n.Component)),x=t(23),N=t(10),L=t(67),G=t.n(L),U=t(116),M=function e(){var a=this;Object(i.a)(this,e),this.getUserAppts=function(e){return a.service.get("/getuserappts/".concat(e))},this.getAppt=function(e){return a.service.get("/getappt/".concat(e))},this.postNewAppt=function(e,t){var n=e.services,r=e.dates;return a.service.post("/postnewappt/".concat(t),{services:n,dates:r})},this.editAppt=function(e,t){var n=e.services,r=e.dates,s=e.validated,l=e.estimatedEndTime;return a.service.post("/editappt/".concat(t),{services:n,dates:r,validated:s,estimatedEndTime:l})},this.deleteAppt=function(e){return a.service.post("/deleteappt/".concat(e))},this.service=h.a.create({baseURL:"https://hair-and-now.herokuapp.com/api",withCredentials:!0})},P=function e(){var a=this;Object(i.a)(this,e),this.getPacks=function(e){return a.service.get("/getpacks/".concat(e))},this.getPack=function(e){return a.service.get("/getpack/".concat(e))},this.postNewPack=function(e,t){var n=e.services,r=e.price;return a.service.post("/postnewpack/".concat(t),{services:n,price:r})},this.editPack=function(e,t){var n=e.services,r=e.price;return a.service.post("/editpack/".concat(t),{services:n,price:r})},this.deletePack=function(e){return a.service.post("/deletepack/".concat(e))},this.service=h.a.create({baseURL:"https://hair-and-now.herokuapp.com/api",withCredentials:!0})},A=t(2),z=t(76);t(151),t(152);Object(L.registerLocale)("es",U.a);var _=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).handleDateChange=function(e){return n.setState({dateManager:e})},n.pushDate=function(e){e.preventDefault();var a=Object(N.a)({},n.state.apptInfo);a.dates.push(n.state.dateManager),n.setState({apptInfo:a})},n.handleInputChange=function(e){var a=Object(N.a)({},n.state.apptInfo),t="checkbox"===e.target.type?e.target.checked:e.target.value;a=Object(N.a)(Object(N.a)({},a),{},Object(x.a)({},e.target.name,t)),n.setState({apptInfo:a})},n.handleSubmit=function(e){e.preventDefault(),n.appointmentService.postNewAppt(n.state.apptInfo,n.props.match.params.salonId).then((function(e){return n.props.history.push("/salons/".concat(n.props.match.params.salonId))})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){n.getPacks(),n.getSalonInfo()},n.state={salonInfo:{},apptInfo:{dates:[]},dateManager:new Date},n.appointmentService=new M,n.packService=new P,n.salonService=new T,n}return Object(o.a)(t,[{key:"getPacks",value:function(){var e=this;this.packService.getPacks(this.props.match.params.salonId).then((function(a){return e.setState({packs:a.data})})).catch((function(e){return console.log(e)}))}},{key:"getSalonInfo",value:function(){var e=this,a=this.props.match.params.salonId;this.salonService.getSalon(a).then((function(a){return e.setState({salonInfo:a.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(b.a,{as:"section"},r.a.createElement("h1",null,"Pedir cita en ",this.state.salonInfo.name),r.a.createElement("h2",null,"Elige fecha y hora"),r.a.createElement("p",{className:"datetime-rec"},"Te recomendamos introducir varias fechas alternativas"),this.state.apptInfo.dates.length>0&&this.state.apptInfo.dates.map((function(e,a){return r.a.createElement(z.a,{key:a,className:"alert"},e.toLocaleString("es-ES"))})),r.a.createElement(A.a,{className:"is-flex is-centered",onSubmit:this.pushDate},r.a.createElement(G.a,{locale:"es",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"Hora",className:"date",onChange:this.handleDateChange,selected:this.state.dateManager,dateFormat:"d MMMM yyyy h:mm aa"}),r.a.createElement(C.a,{className:"red-button",type:"submit"},"A\xf1adir")),r.a.createElement("h2",null,"Elige un pack de servicios"),r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,{onChange:this.handleInputChange},this.state.packs&&this.state.packs.map((function(e){return r.a.createElement("article",{key:e._id,className:"packCard"},r.a.createElement(A.a.Label,null,r.a.createElement(A.a.Check,{type:"radio",name:"services",id:"services".concat(e._id),value:e._id}),e.services.map((function(e){return r.a.createElement("p",{key:e._id},e.name)}))),r.a.createElement("p",{className:"price"},e.price," \u20ac "))}))),this.state.apptInfo.dates.length>0&&r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",type:"submit"},"Crear")))}}]),t}(n.Component),F=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).markForDeletion=function(e){var a=e.target.checked,t=Object(N.a)({},n.state.markForDeletion);t=Object(N.a)(Object(N.a)({},t),{},Object(x.a)({},e.target.name,a)),n.setState({markForDeletion:t})},n.removeDates=function(e){e.preventDefault();var a=Object(N.a)({},n.state.appointment);Object.entries(n.state.markForDeletion).map((function(e){return e[1]?a.dates.splice(e[0],1):null})),n.setState({appointment:a})},n.validateDates=function(e){e.preventDefault();var a=Object(N.a)({},n.state.appointment);a.dates.length>0&&(a.estimatedEndTime=a.dates[0].setMinutes(a.dates[0].getMinutes()+n.state.estimatedMinutes)),a.validated=!0,n.setState({appointment:a}),n.appointmentService.editAppt(a,n.props.match.params.id).then((function(e){return n.props.history.push("/user/professionals/dashboard")})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){return n.getAppt()},n.state={markForDeletion:{}},n.appointmentService=new M,n}return Object(o.a)(t,[{key:"getAppt",value:function(){var e=this;this.appointmentService.getAppt(this.props.match.params.id).then((function(a){var t=a.data;t.dates=t.dates.map((function(e){return new Date(Date.parse(e))}));var n=[];t.services[0].services.map((function(e){return n.push(e.estimatedTime)}));var r=n.reduce((function(e,a){return e+a}));e.setState({appointment:t,estimatedMinutes:r})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{as:"section"},r.a.createElement("h1",null,"Confirmar o rechazar cita"),r.a.createElement("p",null,"Elimina todas las fechas que no interesen, o todas si ninguna encaja, y dale a enviar para informar al usuario."),r.a.createElement(A.a,{onSubmit:this.removeDates},this.state.appointment&&this.state.appointment.dates.map((function(a,t){return r.a.createElement(A.a.Group,{key:t,className:"is-flex"},r.a.createElement(A.a.Label,null,a.toLocaleString("es-ES")),r.a.createElement(A.a.Check,{type:"checkbox",name:t,onChange:e.markForDeletion}))})),r.a.createElement(C.a,{type:"submit",size:"lg",block:"true",className:"red-button"},"Eliminar fechas seleccionadas")),this.state.appointment&&this.state.appointment.dates.length<=1&&r.a.createElement(A.a,{onSubmit:this.validateDates},r.a.createElement(C.a,{type:"submit",size:"lg",block:"true",className:"red-button"},"Validar")))}}]),t}(n.Component),R=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleInputChange=function(a){var t=Object(N.a)({},e.state.salonInfo),n="checkbox"===a.target.type?a.target.checked:a.target.value;t=Object(N.a)(Object(N.a)({},t),{},Object(x.a)({},a.target.name,n)),e.setState({salonInfo:t})},e.handleSubmit=function(a){a.preventDefault();var t={name:e.state.salonInfo.name,type:e.state.salonInfo.type,address:{street:e.state.salonInfo.street,number:e.state.salonInfo.number,zipcode:e.state.salonInfo.zipcode,town:e.state.salonInfo.town,province:e.state.salonInfo.province,complements:e.state.salonInfo.complements},schedule:{monday:{openingDay:e.state.salonInfo.mondayOpeningDay,openingTime:e.state.salonInfo.mondayOpeningTime,closingTime:e.state.salonInfo.mondayClosingTime},tuesday:{openingDay:e.state.salonInfo.tuesdayOpeningDay,openingTime:e.state.salonInfo.tuesdayOpeningTime,closingTime:e.state.salonInfo.tuesdayClosingTime},wednesday:{openingDay:e.state.salonInfo.wednesdayOpeningDay,openingTime:e.state.salonInfo.wednesdayOpeningTime,closingTime:e.state.salonInfo.wednesdayClosingTime},thursday:{openingDay:e.state.salonInfo.thursdayOpeningDay,openingTime:e.state.salonInfo.thursdayOpeningTime,closingTime:e.state.salonInfo.thursdayClosingTime},friday:{openingDay:e.state.salonInfo.fridayOpeningDay,openingTime:e.state.salonInfo.fridayOpeningTime,closingTime:e.state.salonInfo.fridayClosingTime},saturday:{openingDay:e.state.salonInfo.saturdayOpeningDay,openingTime:e.state.salonInfo.saturdayOpeningTime,closingTime:e.state.salonInfo.saturdayClosingTime},sunday:{openingDay:e.state.salonInfo.sundayOpeningDay,openingTime:e.state.salonInfo.sundayOpeningTime,closingTime:e.state.salonInfo.sundayClosingTime}}};e.salonService.createSalon(t).then((function(a){return e.props.history.push("/")})).catch((function(e){return console.log(e)}))},e.state={salonInfo:{name:"",type:"",street:"",number:null,zipcode:null,town:"",province:"",complements:"",mondayOpeningDay:!1,mondayOpeningTime:"",mondayClosingTime:"",tuesdayOpeningDay:!1,tuesdayOpeningTime:"",tuesdayClosingTime:"",wednesdayOpeningDay:!1,wednesdayOpeningTime:"",wednesdayClosingTime:"",thursdayOpeningDay:!1,thursdayOpeningTime:"",thursdayClosingTime:"",fridayOpeningDay:!1,fridayOpeningTime:"",fridayClosingTime:"",saturdayOpeningDay:!1,saturdayOpeningTime:"",saturdayClosingTime:"",sundayOpeningDay:!1,sundayOpeningTime:"",sundayClosingTime:""}},e.salonService=new T,e}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h1",null,"Nueva peluquer\xeda"),r.a.createElement(v.a,{className:"is-flex is-centered"},r.a.createElement(y.a,{xs:10},r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,{controlId:"formName"},r.a.createElement(A.a.Label,null,"Nombre"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Nombre de tu local",name:"name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,{controlId:"formType",onChange:this.handleInputChange},r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Barber\xeda",name:"type",id:"type1",value:"barber\xeda"}),r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Peluquer\xeda unisex",name:"type",id:"type3",value:"peluquer\xeda unisex"}),r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Peluquer\xeda de se\xf1oras",name:"type",id:"type2",value:"peluquer\xeda de se\xf1oras"}),r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Otro",name:"type",id:"type4",value:"otro"})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Calle/Plaza/Avenida"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Calle Castilla",name:"street",value:this.state.salonInfo.street,onChange:this.handleInputChange})),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"N\xfamero"),r.a.createElement(A.a.Control,{type:"number",name:"number",value:this.state.salonInfo.number,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"C\xf3digo postal"),r.a.createElement(A.a.Control,{type:"number",name:"zipcode",value:this.state.salonInfo.zipcode,onChange:this.handleInputChange})))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Detalles direcci\xf3n"),r.a.createElement(A.a.Control,{type:"text",name:"complements",placeholder:"Pasaje, semis\xf3tano...",value:this.state.salonInfo.complements,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Localidad"),r.a.createElement(A.a.Control,{type:"text",name:"town",value:this.state.salonInfo.town,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Provincia"),r.a.createElement(A.a.Control,{type:"text",name:"province",value:this.state.salonInfo.province,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"D\xedas de apertura"),r.a.createElement("br",null),r.a.createElement(A.a.Check,{inline:!0,label:"Lunes",type:"checkbox",name:"mondayOpeningDay",checked:this.state.mondayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"Martes",type:"checkbox",name:"tuesdayOpeningDay",checked:this.state.tuesdayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"Mi\xe9rcoles",type:"checkbox",name:"wednesdayOpeningDay",checked:this.state.wednesdayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"Jueves",type:"checkbox",name:"thursdayOpeningDay",checked:this.state.thursdayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"Viernes",type:"checkbox",name:"fridayOpeningDay",checked:this.state.fridayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"S\xe1bado",type:"checkbox",name:"saturdayOpeningDay",checked:this.state.saturdayOpeningDay,onChange:this.handleInputChange}),r.a.createElement(A.a.Check,{inline:!0,label:"Domingo",type:"checkbox",name:"sundayOpeningDay",checked:this.state.sundayOpeningDay,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Lunes"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"mondayOpeningTime",value:this.state.salonInfo.mondayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"mondayClosingTime",value:this.state.salonInfo.mondayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Martes"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"tuesdayOpeningTime",value:this.state.salonInfo.tuesdayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"tuesdayClosingTime",value:this.state.salonInfo.tuesdayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Mi\xe9rcoles"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"wednesdayOpeningTime",value:this.state.salonInfo.wednesdayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"wednesdayClosingTime",value:this.state.salonInfo.wednesdayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Jueves"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"thursdayOpeningTime",value:this.state.salonInfo.thursdayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"thursdayClosingTime",value:this.state.salonInfo.thursdayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Viernes"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"fridayOpeningTime",value:this.state.salonInfo.fridayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"fridayClosingTime",value:this.state.salonInfo.fridayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"S\xe1bado"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"saturdayOpeningTime",value:this.state.salonInfo.saturdayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"saturdayClosingTime",value:this.state.salonInfo.saturdayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Domingo"),r.a.createElement(v.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Apertura"),r.a.createElement(A.a.Control,{type:"time",name:"sundayOpeningTime",value:this.state.salonInfo.sundayOpeningTime,onChange:this.handleInputChange}))),r.a.createElement(y.a,{xs:6},r.a.createElement(A.a.Group,null,r.a.createElement(A.a.Label,null,"Cierre"),r.a.createElement(A.a.Control,{type:"time",name:"sundayClosingTime",value:this.state.salonInfo.sundayClosingTime,onChange:this.handleInputChange}))))),r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",type:"submit"},"Crear")))))}}]),t}(n.Component),q=function e(){var a=this;Object(i.a)(this,e),this.getServices=function(){return a.service.get("/getservices")},this.service=h.a.create({baseURL:"https://hair-and-now.herokuapp.com/api",withCredentials:!0})},H=(t(209),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getServices(),n.getPacks(),n.getSalonInfo()},n.handleInputChange=function(e){var a="checkbox"===e.target.type?e.target.checked:e.target.value;if("checkbox"===e.target.type){var t=Object(N.a)({},n.state.hasServices);t=Object(N.a)(Object(N.a)({},t),{},Object(x.a)({},e.target.name,a)),n.setState({hasServices:t})}else if("number"===e.target.type){var r=Object(N.a)({},n.state.packObj);r=Object(N.a)(Object(N.a)({},r),{},Object(x.a)({},e.target.name,Number(a))),n.setState({packObj:r})}},n.handleSubmit=function(e){e.preventDefault();var a=Object(N.a)({},n.state.packObj),t=Object.entries(n.state.hasServices),r=[];t.map((function(e){return e[1]?r.push(e[0]):null})),a=Object(N.a)(Object(N.a)({},a),{},{services:r}),n.packService.postNewPack(a,n.props.match.params.salonId).then((function(e){n.props.history.push("/")})).catch((function(e){console.log(e)}))},n.state={packObj:{services:[],price:0},hasServices:{}},n.packService=new P,n.salonService=new T,n.serviceService=new q,n}return Object(o.a)(t,[{key:"getPacks",value:function(){var e=this;this.packService.getPacks(this.props.match.params.salonId).then((function(a){return e.setState({packs:a.data})})).catch((function(e){return console.log(e)}))}},{key:"getServices",value:function(){var e=this;this.serviceService.getServices().then((function(a){return e.setState({services:a.data})})).catch((function(e){return console.log(e)}))}},{key:"getSalonInfo",value:function(){var e=this;this.salonService.getSalon(this.props.match.params.salonId).then((function(a){e.setState({salonInfo:a.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{as:"section"},this.state.salonInfo&&r.a.createElement("h1",null,"Gestionar servicios de ",this.state.salonInfo.name),this.state.packs&&this.state.packs.length>0?this.state.packs.map((function(e){return r.a.createElement(z.a,{key:e._id,className:"is-flex packs"},r.a.createElement("div",null,e.services.map((function(e){return r.a.createElement("p",{className:"service-label"},e.name)}))),r.a.createElement("p",{className:"price"},e.price," \u20ac"))})):r.a.createElement("p",null,"A\xfan no tienes packs asociados a este establecimiento"),r.a.createElement("hr",null),r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,null,this.state.services&&this.state.services.map((function(a){return r.a.createElement(A.a.Check,{key:a._id,type:"checkbox",inline:!0,name:a._id,label:a.name,onChange:e.handleInputChange})}))),r.a.createElement(A.a.Group,{className:"is-flex is-centered"},r.a.createElement(A.a.Label,null,"Precio (\u20ac)"),r.a.createElement(A.a.Control,{type:"number",name:"price",value:this.state.packObj.price,onChange:this.handleInputChange})),r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",type:"submit"},"Crear pack")))}}]),t}(n.Component)),B=t(79),J=(t(210),function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getSalonInfo()},n.state={},n.salonService=new T,n}return Object(o.a)(t,[{key:"getSalonInfo",value:function(){var e=this;this.salonService.getSalon(this.props.match.params.id).then((function(a){e.setState(a.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h1",null,this.state.name),r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement("p",{className:"salon-info-tidbits"},this.state.type)),r.a.createElement(y.a,null,r.a.createElement("p",{className:"rating-module"},this.state.rating,"/10"))),r.a.createElement("img",{src:"".concat("","/static/img/barber-seats-mirrors.jpg"),alt:this.state.name}),this.state.address&&r.a.createElement("p",null,"".concat(this.state.address.street,", ").concat(this.state.address.number,", ").concat(this.state.address.zipcode," ").concat(this.state.address.town," (").concat(this.state.address.province,")")),this.props.loggedInUser?r.a.createElement(I.b,{to:"/appointment/create/".concat(this.props.match.params.id)},r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button"},"Pedir cita")):r.a.createElement(I.b,{to:"/login"},r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button"},"Inicia sesi\xf3n para pedir cita")),r.a.createElement(B.a,{className:"accordion-menu"},r.a.createElement(O.a,null,r.a.createElement(B.a.Toggle,{as:O.a.Header,eventKey:"0"},"Horario"),r.a.createElement(B.a.Collapse,{eventKey:"0"},r.a.createElement(O.a.Body,null,this.state.schedule&&r.a.createElement("div",null,r.a.createElement("p",null,"Lunes: ",this.state.schedule.monday.openingTime," /",this.state.schedule.monday.closingTime),r.a.createElement("p",null,"Martes: ",this.state.schedule.tuesday.openingTime," /",this.state.schedule.tuesday.closingTime),r.a.createElement("p",null,"Mi\xe9rcoles: ",this.state.schedule.wednesday.openingTime," /",this.state.schedule.wednesday.closingTime),r.a.createElement("p",null,"Jueves: ",this.state.schedule.thursday.openingTime," /",this.state.schedule.thursday.closingTime),r.a.createElement("p",null,"Viernes: ",this.state.schedule.friday.openingTime," /",this.state.schedule.friday.closingTime),r.a.createElement("p",null,"S\xe1bado: ",this.state.schedule.saturday.openingTime," /",this.state.schedule.saturday.closingTime),r.a.createElement("p",null,"Domingo: ",this.state.schedule.sunday.openingTime," /",this.state.schedule.sunday.closingTime)))))))}}]),t}(n.Component)),V=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).handleInputChange=function(a){var t=Object(N.a)({},e.state.signupInfo),n=a.target,r=n.name,s=n.value;t=Object(N.a)(Object(N.a)({},t),{},Object(x.a)({},r,s)),e.setState({signupInfo:t})},e.handleSubmit=function(a){a.preventDefault(),e.authService.signup(e.state.signupInfo).then((function(){return"client"===e.state.signupInfo.role?e.props.history.push("/"):e.props.history.push("/salons/create")})).catch((function(e){return console.log(e)}))},e.state={signupInfo:{username:"",email:"",password:"",role:"client"}},e.authService=new d,e}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h1",null,"Registro"),r.a.createElement(v.a,{className:"is-flex is-centered"},r.a.createElement(y.a,{xs:10},r.a.createElement(A.a,{className:"form-margin",onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,{controlId:"username"},r.a.createElement(A.a.Label,null,"Nombre de usuario"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Usuario",name:"username",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,{controlId:"email"},r.a.createElement(A.a.Label,null,"Correo electr\xf3nico"),r.a.createElement(A.a.Control,{type:"email",name:"email",placeholder:"ejemplo@hairandnow.es",value:this.state.email,onChange:this.handleInputChange}),r.a.createElement(A.a.Text,{className:"text-muted"},"Nunca compartiremos tu correo con ninguna otra entidad.")),r.a.createElement(A.a.Group,{controlId:"password"},r.a.createElement(A.a.Label,null,"Contrase\xf1a"),r.a.createElement(A.a.Control,{type:"password",name:"password",placeholder:"Contrase\xf1a",value:this.state.password,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,{controlId:"accountType",onChange:this.handleInputChange},r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Cliente",name:"role",id:"role1",value:"client",defaultChecked:!0}),r.a.createElement(A.a.Check,{inline:!0,type:"radio",label:"Profesional",name:"role",id:"role2",value:"professional"})),r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",type:"submit"},"Registrar")))))}}]),t}(n.Component),K=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).handleInputChange=function(e){var a=Object(N.a)({},n.state.loginInfo),t=e.target,r=t.name,s=t.value;a=Object(N.a)(Object(N.a)({},a),{},Object(x.a)({},r,s)),n.setState({loginInfo:a})},n.handleSubmit=function(e){e.preventDefault(),n.authService.login(n.state.loginInfo).then((function(e){n.props.setTheUser(e.data),n.props.history.push("/")})).catch((function(e){return console.log(e)}))},n.state={loginInfo:{username:"",password:""}},n.authService=new d,n}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h1",null,"Inicio de sesi\xf3n"),r.a.createElement(v.a,{className:"form-margin is-flex is-centered"},r.a.createElement(y.a,{xs:10},r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement(A.a.Group,{controlId:"username"},r.a.createElement(A.a.Label,null,"Nombre de usuario"),r.a.createElement(A.a.Control,{type:"text",placeholder:"Usuario",name:"username",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement(A.a.Group,{controlId:"password"},r.a.createElement(A.a.Label,null,"Contrase\xf1a"),r.a.createElement(A.a.Control,{type:"password",name:"password",placeholder:"Contrase\xf1a",value:this.state.password,onChange:this.handleInputChange})),r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",type:"submit"},"Registrar")))))}}]),t}(n.Component),W=t(115),$=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){var e=n.props.match.params.id;n.authService.confirm(e).then((function(e){return n.setState({confirming:!1})})).catch((function(e){return console.log(e)}))},n.state={confirming:!0},n.authService=new d,n}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,this.state.confirming?r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button",disabled:!0},r.a.createElement(W.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Confirmando..."):r.a.createElement(I.b,{to:"/"},r.a.createElement(C.a,{size:"lg",block:"true",className:"red-button"},"Volver a Inicio")))}}]),t}(n.Component),Q=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).setTheUser=function(a){return e.setState({loggedInUser:a})},e.fetchUser=function(){null===e.state.loggedInUser&&e.authService.isLoggedIn().then((function(a){return e.setTheUser(a.data)})).catch((function(){return e.setTheUser(!1)}))},e.state={loggedInUser:null},e.authService=new d,e}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/user/professionals/dashboard",render:function(a){return r.a.createElement(D,Object.assign({},a,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(m.a,{path:"/appointment/create/:salonId",render:function(e){return r.a.createElement(_,e)}}),r.a.createElement(m.a,{path:"/appointment/edit/:id",render:function(e){return r.a.createElement(F,e)}}),r.a.createElement(m.a,{path:"/packs/create/:salonId",render:function(a){return r.a.createElement(H,Object.assign({},a,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(m.a,{path:"/confirm/:id",render:function(e){return r.a.createElement($,e)}}),r.a.createElement(m.a,{path:"/salons/create",render:function(e){return r.a.createElement(R,e)}}),r.a.createElement(m.a,{path:"/salons/:id",render:function(a){return r.a.createElement(J,Object.assign({},a,{loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(m.a,{path:"/signup",render:function(a){return r.a.createElement(V,Object.assign({},a,{setTheUser:e.setTheUser}))}}),r.a.createElement(m.a,{path:"/login",render:function(a){return r.a.createElement(K,Object.assign({},a,{setTheUser:e.setTheUser}))}}),r.a.createElement(m.a,{path:"/",render:function(a){return r.a.createElement(j,Object.assign({},a,{loggedInUser:e.state.loggedInUser}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(I.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[117,1,2]]]);
//# sourceMappingURL=main.f6382cfc.chunk.js.map